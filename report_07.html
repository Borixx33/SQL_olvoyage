<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=WINDOWS-1252">
<meta name="generator" content="SQL*Plus 10.2.0">
<style type='text/css'> body {font:10pt Arial,Helvetica,sans-serif; color:black; background:White;} p {font:10pt Arial,Helvetica,sans-serif; color:black; background:White;} table,tr,td {font:10pt Arial,Helvetica,sans-serif; color:Black; background:#f7f7e7; padding:0px 0px 0px 0px; margin:0px 0px 0px 0px;} th {font:bold 10pt Arial,Helvetica,sans-serif; color:#336699; background:#cccc99; padding:0px 0px 0px 0px;} h1 {font:16pt Arial,Helvetica,Geneva,sans-serif; color:#336699; background-color:White; border-bottom:1px solid #cccc99; margin-top:0pt; margin-bottom:0pt; padding:0px 0px 0px 0px;} h2 {font:bold 10pt Arial,Helvetica,Geneva,sans-serif; color:#336699; background-color:White; margin-top:4pt; margin-bottom:0pt;} a {font:9pt Arial,Helvetica,sans-serif; color:#663300; background:#ffffff; margin-top:0pt; margin-bottom:0pt; vertical-align:top;}</style><title>SQL*Plus Report</title>
</head>
<body>
SQL&gt; SELECT*
<br>
  2  FROM (SELECT d.city ||' - '|| a.city &quot; Top-5 des trains &quot;
<br>
  3      FROM t_train t
<br>
  4   JOIN T_station d
<br>
  5   ON t.departure_station_id = d.station_id
<br>
  6   JOIN T_station a
<br>
  7   ON t.arrival_station_id = a.station_id
<br>
  8   JOIN T_wagon_train wt
<br>
  9   ON t.Train_id = wt.train_id
<br>
 10   JOIN T_ticket ti
<br>
 11   ON wt.wag_tr_id = ti.wag_tr_id
<br>
 12   GROUP BY d.city ||' - '|| a.city, train_id
<br>
 13   ORDER BY COUNT(ti.TICKET_ID) DESC)
<br>
 14  WHERE ROWNUM &lt;=5;
<br>
<p>
<table border='1' width='90%' align='center' summary='Script output'>
<tr>
<th scope="col">
 Top-5 des trains 
</th>
</tr>
<tr>
<td>
Paris - Marseille
</td>
</tr>
<tr>
<td>
Bordeaux - Paris
</td>
</tr>
<tr>
<td>
Paris - Bordeaux
</td>
</tr>
<tr>
<td>
Marseille - Paris
</td>
</tr>
<tr>
<td>
Brest - Strasbourg
</td>
</tr>
</table>
<p>

SQL&gt; SPOOL OFF;
<br>
</body>
</html>
